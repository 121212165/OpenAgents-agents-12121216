# 用户手册

**版本**: MVP v1.0  
**更新日期**: 2026-01-14

## 目录

- [快速开始](#快速开始)
- [功能介绍](#功能介绍)
- [使用示例](#使用示例)
- [常见问题](#常见问题)
- [故障排查](#故障排查)

---

## 快速开始

### 什么是小游探？

小游探是一个智能的游戏圈AI助手，可以帮你：

- 🔴 **查询主播直播状态** - "Faker在直播吗？"
- 📰 **生成游戏圈简报** - "生成今日简报"
- 💬 **智能对话交互** - 自然语言提问

### 5分钟上手

#### 方式一：使用Web界面（最简单）

1. **启动系统**
```bash
python src/web_ui.py
```

2. **打开浏览器**
   - 访问: http://localhost:7860
   - 开始聊天！

#### 方式二：使用OpenAgents Studio

1. **启动系统**
```bash
python src/main.py
```

2. **连接Studio**
   - 访问: https://openagents.org/studio
   - 连接到本地网络
   - 开始对话！

---

## 功能介绍

### 1. 直播查询 🔴

查询你关心的主播是否在直播。

**支持的查询方式**:
- "Faker在直播吗？"
- "Uzi开播了吗"
- "查看TheShy的直播状态"
- "大司马在线吗"

**返回信息**:
- ✅ 直播状态（在线/离线）
- 📝 直播标题
- 🎮 正在玩的游戏
- 👥 观众人数
- 🔗 直播间链接

**示例对话**:
```
你: Faker在直播吗？

小游探: 🔴 Faker 正在 Twitch 直播！
📝 标题：世界赛版本分析
🎮 游戏：英雄联盟
👥 观众：105,434
🔗 直播间：https://twitch.tv/faker
```

### 2. 简报生成 📰

获取游戏圈的智能简报。

**支持的查询方式**:
- "生成今日简报"
- "生成简报"
- "给我一份游戏简报"
- "今天有什么动态"

**简报内容**:
- 🔥 当前直播情况
- 📊 系统运行状态
- 🎮 热门游戏
- 📈 数据统计

**示例对话**:
```
你: 生成今日简报

小游探: 📰 【小游探简报】

🔥 当前直播: 3位主播在线
- Faker: 英雄联盟 (10.5万观众)
- Uzi: 绝地求生 (8.2万观众)
- 大司马: 王者荣耀 (6.8万观众)

📊 系统运行正常，数据更新及时
🎮 热门游戏: 英雄联盟、绝地求生、王者荣耀
```

### 3. 系统状态 🖥️

查看系统运行状态。

**支持的查询方式**:
- "系统状态"
- "健康检查"
- "状态"

**返回信息**:
- 🤖 路由中枢状态
- 🧠 AI引擎状态
- 📊 今日调用统计
- 🔄 数据源状态

**示例对话**:
```
你: 系统状态

小游探: 🖥️ **系统状态报告**

🤖 **路由中枢**: online
🧠 **AI引擎**: claude-3-5-sonnet (🟢 在线)
📊 **今日AI调用**: 42次
🔄 **数据源**: Mock Data (🟢 健康)

✅ 所有系统运行正常
```

### 4. 智能对话 💬

自然语言交互，支持问候和闲聊。

**支持的查询方式**:
- "你好"
- "hi"
- "hello"

**示例对话**:
```
你: 你好

小游探: 你好！我是小游探AI助手 🎮

🤖 **智能功能**：
- 查询主播直播状态（如："Faker在直播吗？"）
- 生成游戏圈智能简报（如："生成今日简报"）
- 查看系统运行状态（如："系统状态"）

💡 **使用提示**：
- 直接用自然语言提问
- 支持多种表达方式
- 响应时间 < 3秒

有什么我可以帮你的吗？
```

---

## 使用示例

### 场景1：追踪喜欢的主播

**需求**: 想知道Faker是否在直播

**操作**:
1. 打开小游探
2. 输入："Faker在直播吗？"
3. 查看结果

**结果**:
- 如果在直播：显示直播信息和链接
- 如果不在线：提示当前离线

### 场景2：获取每日简报

**需求**: 每天早上了解游戏圈动态

**操作**:
1. 打开小游探
2. 输入："生成今日简报"
3. 阅读简报

**结果**:
- 当前直播情况
- 热门游戏
- 系统状态

### 场景3：快速检查多个主播

**需求**: 想知道多个主播的状态

**操作**:
1. 依次查询每个主播
   - "Faker在直播吗？"
   - "Uzi在直播吗？"
   - "大司马在直播吗？"

**结果**:
- 每个主播的详细状态
- 可以快速对比

### 场景4：系统健康检查

**需求**: 确认系统运行正常

**操作**:
1. 输入："系统状态"
2. 查看各项指标

**结果**:
- 所有组件状态
- 数据源健康度
- 调用统计

---

## 常见问题

### Q1: 支持哪些主播？

A: 当前支持配置文件中的主播，默认包括：
- Faker
- Uzi
- 大司马

可以通过修改 `config/players.yaml` 添加更多主播。

### Q2: 数据多久更新一次？

A: 
- 直播状态：实时查询
- 简报数据：每次生成时实时获取
- 缓存时间：5分钟（可配置）

### Q3: 支持哪些平台？

A: 当前支持：
- Twitch（主要）
- 模拟数据（演示用）

未来计划支持：
- 虎牙
- 斗鱼
- B站

### Q4: 响应时间多长？

A: 
- 正常查询：< 3秒
- 简报生成：< 5秒
- 系统状态：< 1秒

### Q5: 可以离线使用吗？

A: 不可以。小游探需要：
- 网络连接（获取直播数据）
- LLM API（智能对话）

### Q6: 如何添加新主播？

A: 编辑 `config/players.yaml`:

```yaml
monitored_players:
  - name: "新主播名称"
    platform: "twitch"
    channel: "频道名"
```

### Q7: 支持哪些语言？

A: 当前支持中文，未来计划支持：
- 英文
- 日文
- 韩文

### Q8: 数据准确吗？

A: 
- 直播数据：来自官方API，准确可靠
- 简报内容：基于实时数据生成
- 更新频率：实时或5分钟缓存

### Q9: 如何反馈问题？

A: 
1. GitHub Issues: 提交bug报告
2. 邮件联系: support@yougame.com
3. 社区讨论: Discord频道

### Q10: 是否收费？

A: 
- 开源免费
- 需要自己的LLM API Key
- 数据源API可能有限制

---

## 故障排查

### 问题1: 无法启动

**症状**: 运行时报错

**可能原因**:
- Python版本不对
- 依赖未安装
- 环境变量未配置

**解决方案**:
```bash
# 1. 检查Python版本
python --version  # 应该是3.10+

# 2. 重新安装依赖
pip install -r requirements.txt

# 3. 检查环境变量
cat .env  # 确认API Key已配置
```

### 问题2: 查询无响应

**症状**: 输入查询后没有反应

**可能原因**:
- 网络问题
- API Key无效
- 服务未启动

**解决方案**:
```bash
# 1. 检查网络
ping google.com

# 2. 验证API Key
python scripts/check_llm_config.py

# 3. 重启服务
python src/main.py
```

### 问题3: 数据不准确

**症状**: 显示的直播信息不对

**可能原因**:
- 缓存过期
- 数据源问题
- 配置错误

**解决方案**:
```bash
# 1. 清除缓存
rm -rf .cache/

# 2. 检查配置
cat config/players.yaml

# 3. 运行验证
python quick_verify.py
```

### 问题4: 响应太慢

**症状**: 查询响应时间超过10秒

**可能原因**:
- 网络延迟
- LLM API慢
- 系统资源不足

**解决方案**:
```bash
# 1. 检查网络延迟
ping api.anthropic.com

# 2. 切换LLM提供商
# 编辑.env，使用更快的API

# 3. 检查系统资源
top  # 查看CPU和内存使用
```

### 问题5: Web界面无法访问

**症状**: 浏览器无法打开 http://localhost:7860

**可能原因**:
- 端口被占用
- 防火墙阻止
- 服务未启动

**解决方案**:
```bash
# 1. 检查端口
netstat -an | grep 7860

# 2. 更换端口
python src/web_ui.py --port 8080

# 3. 检查防火墙
# Windows: 控制面板 → 防火墙
# Linux: sudo ufw status
```

### 获取帮助

如果以上方法都无法解决问题：

1. **查看日志**
```bash
tail -f logs/app.log
```

2. **运行诊断**
```bash
python quick_verify.py
```

3. **提交Issue**
   - 访问: https://github.com/your-repo/issues
   - 包含错误信息和日志

---

## 使用技巧

### 技巧1: 快捷查询

使用Web界面的快捷按钮：
- 点击"Faker在直播吗？"按钮
- 点击"生成今日简报"按钮
- 点击"系统状态"按钮

### 技巧2: 批量查询

依次输入多个查询：
```
Faker在直播吗？
Uzi在直播吗？
大司马在直播吗？
```

### 技巧3: 定时简报

设置定时任务（Linux/macOS）：
```bash
# 每天早上8点生成简报
0 8 * * * python -c "from src.agents.briefing_agent import BriefingAgent; import asyncio; asyncio.run(BriefingAgent().generate_briefing())"
```

### 技巧4: 自定义主播列表

编辑 `config/players.yaml` 添加你关心的主播。

### 技巧5: 使用快速验证

定期运行快速验证确保系统健康：
```bash
python quick_verify.py
```

---

## 更新日志

### v1.0 (2026-01-14)
- ✅ 初始版本发布
- ✅ 支持直播查询
- ✅ 支持简报生成
- ✅ 支持系统状态查询
- ✅ Web界面
- ✅ OpenAgents Studio集成

---

## 相关文档

- [API参考文档](API_REFERENCE.md) - 开发者API文档
- [开发者指南](DEVELOPER_GUIDE.md) - 开发和贡献指南
- [架构文档](ARCHITECTURE.md) - 系统架构说明
- [部署文档](DEPLOYMENT.md) - 部署和运维指南
- [Web UI使用指南](../README_WEB_UI.md) - Web界面详细说明

---

## 反馈与支持

### 反馈渠道

- **GitHub Issues**: https://github.com/your-repo/issues
- **邮件**: support@yougame.com
- **Discord**: https://discord.gg/yougame

### 社区

- **官方网站**: https://yougame.com
- **文档中心**: https://docs.yougame.com
- **博客**: https://blog.yougame.com

---

**感谢使用小游探！** 🎮✨

**文档维护**: Kiro AI Assistant  
**最后更新**: 2026-01-14
